<div id="homepage-div" class="flex flex-col h-screen w-full">

    <script src="https://unpkg.com/htmx.org@1.9.11"
            integrity="sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0" crossorigin="anonymous">
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/json-enc.js"></script>

    <!-- NAVBAR -->
    <nav class="bg-gray-800 w-full h-16 flex items-center">
        <div class="mx-auto px-2 sm:px-6 lg:px-8 flex items-center justify-between w-full">
            <!-- Left Side -->
            <div class="flex items-center">
                <img src="/static/images/blogger.png" 
                     alt="blogger" 
                     class="h-8 w-8"
                >
                <div class="hidden sm:flex sm:ml-6">
                    <div class="flex space-x-4">
                        <a class="rounded-md bg-gray-900 px-3 py-2 text-sm font-medium text-white" aria-current="page">
                            Trending
                        </a>
                        <a class="rounded-md px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                            Categories
                        </a>
                        <a class="rounded-md px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                            About
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Centered Search Box -->
            <div class="flex-1 mx-4">
                <div class="relative">
                    <input type="text" placeholder="Search..."
                           class="w-full px-4 py-2 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white"
                    >
                </div>
            </div>

            <!-- Right Side -->
            <div class="flex items-center space-x-4">
                <!-- Chat Button with Tooltip -->
                <div class="relative group">
                    <button id="chat-button">
                        <img src="/static/images/chat.png" 
                             alt="chat"
                             class="h-8 w-8 rounded-full cursor-pointer"
                        >
                    </button>
                    <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 text-xs text-white bg-gray-700 rounded opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                        Chat
                    </div>
                </div>
                
                <!-- Notification Button with Tooltip -->
                <div class="relative group">
                    <button id="notification-button">
                        <img src="/static/images/bell.png" 
                             alt="notification"
                             class="h-8 w-8 rounded-full cursor-pointer"
                        >
                    </button>
                    <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 text-xs text-white bg-gray-700 rounded opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                        Notifications
                    </div>
                </div>
                

                <!-- Profile Button -->
                <div class="relative flex items-center space-x-4">
                    <button type="button" 
                            id="profile-button" 
                            class="flex items-center rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"
                    >
                        <img class="h-8 w-8 rounded-full" 
                             src="/static/images/user.png" 
                             alt="User Profile"
                        >
                        <div class="ml-2 hidden sm:flex items-center">
                            <p class="text-white text-sm">{{ .UserName }}</p>
                        </div>
                    </button>
                    <button id="logout-button" 
                            hx-delete="/logout"
                            hx-target="#homepage-div"
                            hx-swap="outerHTML"
                            hx-push-url="/login"
                            class="bg-red-600 hover:bg-red-700 text-white font-semibold py-1 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                    >
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div id="main-content-div" class="flex-1 p-4 border-8 border-black">

        {{ range . }}
            {{ template "blog.html" }}
        {{ end }}

        <!-- ADD BLOG BUTTON  -->
        <div class="absolute bottom-20 right-20 group">
            <button id="add-post-button" 
                    hx-get="/post-blog"
                    hx-target="#main-content-div"
                    hx-swap="outerHTML"
                    hx-push-url="/post-blog"
                    class="relative bg-gray-800 p-1 rounded-full focus:outline-none"
            >
                <img src="/static/images/add.png" alt="add post" class="h-8 w-8">
                <!-- Tooltip -->
                <div class="absolute bottom-full right-1 mb-2 px-2 py-1 text-xs text-white bg-gray-700 rounded opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                    Add Post
                </div>
            </button>
        </div>
    </div>
</div>

